#ifndef __LOCK_HPP__
#define __LOCK_HPP__

#include <cstdint>

namespace OS {

void LockHold(uint64_t * lock);
void LockRelease(uint64_t * lock);

class ScopeLock {
private:
  uint64_t * lock;

public:
  ScopeLock(uint64_t * lock); // @noncritical
  ~ScopeLock(); // @ambicritical
};

class ScopeCriticalLock {
private:
  uint64_t * lock;

public:
  ScopeCriticalLock(uint64_t * lock); // @noncritical
  ~ScopeCriticalLock(); // @ambicritical
};

}

#endif
